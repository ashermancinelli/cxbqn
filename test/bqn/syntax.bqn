# โขImport "ext/bqn-libs/strings.bqn"
#syntax โ โขFLines "ext/bqn/test/cases/syntax.bqn"
# Testing utility - ensure that ๐ฉ returns ๐จ when executed in an isolated scope.

fโ0
T โ {
  rโ๐จ=โขBQN ๐ฉ
  โขShow ""โพrโ"F."
  fโฉf+ยฌr
}

2      T "1+1"
ยฏ2     T "1โ-2"
ยฏ1     T "-2โ1"
1      T "(รท2)+(รท3)+(รท6)"
4      T "โข4โฃ5"
0      T "sqโโ5,โ9ร|5-sqรsq"
ยฏ0.5   T "((-3)+โ(3ร3)-4ร2ร1)รท2ร2"
ยฏ0.5   T "aโ2,bโ3,cโ1โ((-b)+โ(bรb)-4รaรc)รท2รa"
ยฏ0.5   T "bโ1+aโ1+cโ1โ((-b)+โ(bรb)-4รaรc)รท2รa"
ยฏ0.5   T "bโ3โโขdโ(bรb)-4ร2ร1โ((-b)+โd)รท2ร2"
6      T "aโ3,bโ4,cโ5โโฃsโ(รท2)รa+b+cโโsร(s-a)ร(s-b)ร(s-c)"
3.1415 T "tโ2ร5โ3+(1+(4+(1+5รทt)รทt)รทt)รทt"
3.1415 T "3+(1+(4+(1+5รท10)รท10)รท10)รท10"
3      T "โ25-16"
0.25   T "ยฌ15รท20"
0      T "(3โง4)-ยฌ(ยฌ3)โจ(ยฌ4)"
1      T "pโยฌqโรท4โ(qโงq)+(pโจp)"
109    T "105ยฌ-3"
ยฏ0.5   T "{{-3}+โ{3ร3}-4ร2ร1}รท2ร2"
1      T "{aโ1โ{aโ2}โa}"

โขShow "Got "โพ(โขFmt f)โพ" failures."
